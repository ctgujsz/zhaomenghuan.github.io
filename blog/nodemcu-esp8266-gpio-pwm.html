<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NodeMCU ESP8266 GPIO 和 PWM 学习 | 匠心博客</title>
    <meta name="description" content="小青年,匠心,小青年博客,匠心博客,前端开发,android,技术宅,菜鸟教程,一个神奇的博客。">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.e4576dbc.css" as="style"><link rel="preload" href="/assets/js/app.4d6b7a5c.js" as="script"><link rel="preload" href="/assets/js/8.86b21130.js" as="script"><link rel="preload" href="/assets/js/18.b4f6139e.js" as="script"><link rel="preload" href="/assets/js/34.3f96b3d4.js" as="script"><link rel="prefetch" href="/assets/js/1.0e122235.js"><link rel="prefetch" href="/assets/js/10.7978ef40.js"><link rel="prefetch" href="/assets/js/100.3306cb58.js"><link rel="prefetch" href="/assets/js/101.82e15085.js"><link rel="prefetch" href="/assets/js/102.3bc6af75.js"><link rel="prefetch" href="/assets/js/103.67ffc75d.js"><link rel="prefetch" href="/assets/js/104.6d918ede.js"><link rel="prefetch" href="/assets/js/11.849c9a26.js"><link rel="prefetch" href="/assets/js/12.46850ae9.js"><link rel="prefetch" href="/assets/js/13.007a7c72.js"><link rel="prefetch" href="/assets/js/14.84729b84.js"><link rel="prefetch" href="/assets/js/15.5463a28a.js"><link rel="prefetch" href="/assets/js/16.47267e79.js"><link rel="prefetch" href="/assets/js/17.e275f38c.js"><link rel="prefetch" href="/assets/js/19.8c8cc1a2.js"><link rel="prefetch" href="/assets/js/2.46ce0f09.js"><link rel="prefetch" href="/assets/js/20.cb24504f.js"><link rel="prefetch" href="/assets/js/21.e579f748.js"><link rel="prefetch" href="/assets/js/22.72474b7d.js"><link rel="prefetch" href="/assets/js/23.72645e4f.js"><link rel="prefetch" href="/assets/js/24.964de388.js"><link rel="prefetch" href="/assets/js/25.93ac939a.js"><link rel="prefetch" href="/assets/js/26.35c43452.js"><link rel="prefetch" href="/assets/js/27.cbcd0bd4.js"><link rel="prefetch" href="/assets/js/28.445f49db.js"><link rel="prefetch" href="/assets/js/29.a3a8225a.js"><link rel="prefetch" href="/assets/js/30.6da0bf7b.js"><link rel="prefetch" href="/assets/js/31.1ad214cb.js"><link rel="prefetch" href="/assets/js/32.92bd43bc.js"><link rel="prefetch" href="/assets/js/33.e16167fc.js"><link rel="prefetch" href="/assets/js/35.94efffa2.js"><link rel="prefetch" href="/assets/js/36.bafbcf3f.js"><link rel="prefetch" href="/assets/js/37.6f25acbb.js"><link rel="prefetch" href="/assets/js/38.bbc4eb7a.js"><link rel="prefetch" href="/assets/js/39.0dc556c8.js"><link rel="prefetch" href="/assets/js/4.7af11f8f.js"><link rel="prefetch" href="/assets/js/40.36154957.js"><link rel="prefetch" href="/assets/js/41.311bcd28.js"><link rel="prefetch" href="/assets/js/42.d1cfa14d.js"><link rel="prefetch" href="/assets/js/43.65e296ec.js"><link rel="prefetch" href="/assets/js/44.e2b88a63.js"><link rel="prefetch" href="/assets/js/45.8cf6c50d.js"><link rel="prefetch" href="/assets/js/46.05c69c1d.js"><link rel="prefetch" href="/assets/js/47.1dc564ca.js"><link rel="prefetch" href="/assets/js/48.02fdca43.js"><link rel="prefetch" href="/assets/js/49.f5be74e3.js"><link rel="prefetch" href="/assets/js/5.f00d01c6.js"><link rel="prefetch" href="/assets/js/50.379bb6a8.js"><link rel="prefetch" href="/assets/js/51.83daf696.js"><link rel="prefetch" href="/assets/js/52.fcd14ded.js"><link rel="prefetch" href="/assets/js/53.a06ae42a.js"><link rel="prefetch" href="/assets/js/54.089e376e.js"><link rel="prefetch" href="/assets/js/55.84b39d19.js"><link rel="prefetch" href="/assets/js/56.956b5f5d.js"><link rel="prefetch" href="/assets/js/57.4009aacc.js"><link rel="prefetch" href="/assets/js/58.1e436b7f.js"><link rel="prefetch" href="/assets/js/59.1596f0ea.js"><link rel="prefetch" href="/assets/js/6.dadfa526.js"><link rel="prefetch" href="/assets/js/60.11f3a489.js"><link rel="prefetch" href="/assets/js/61.942b5897.js"><link rel="prefetch" href="/assets/js/62.c6a5c000.js"><link rel="prefetch" href="/assets/js/63.d923245f.js"><link rel="prefetch" href="/assets/js/64.ea91019c.js"><link rel="prefetch" href="/assets/js/65.0c314a77.js"><link rel="prefetch" href="/assets/js/66.9f782fbd.js"><link rel="prefetch" href="/assets/js/67.71e75249.js"><link rel="prefetch" href="/assets/js/68.10ff30c8.js"><link rel="prefetch" href="/assets/js/69.bb7204de.js"><link rel="prefetch" href="/assets/js/7.2ded2d0c.js"><link rel="prefetch" href="/assets/js/70.ec1be748.js"><link rel="prefetch" href="/assets/js/71.c4259ee6.js"><link rel="prefetch" href="/assets/js/72.5d1d999e.js"><link rel="prefetch" href="/assets/js/73.ed92364e.js"><link rel="prefetch" href="/assets/js/74.e8daae2f.js"><link rel="prefetch" href="/assets/js/75.4541493e.js"><link rel="prefetch" href="/assets/js/76.2e4b3177.js"><link rel="prefetch" href="/assets/js/77.f8400e8a.js"><link rel="prefetch" href="/assets/js/78.e30d04e6.js"><link rel="prefetch" href="/assets/js/79.4c48f007.js"><link rel="prefetch" href="/assets/js/80.19d3f54f.js"><link rel="prefetch" href="/assets/js/81.fb9f69e5.js"><link rel="prefetch" href="/assets/js/82.f443954c.js"><link rel="prefetch" href="/assets/js/83.9895f5f9.js"><link rel="prefetch" href="/assets/js/84.bf8da186.js"><link rel="prefetch" href="/assets/js/85.e0b784de.js"><link rel="prefetch" href="/assets/js/86.4d095ed9.js"><link rel="prefetch" href="/assets/js/87.34b19b4d.js"><link rel="prefetch" href="/assets/js/88.82051535.js"><link rel="prefetch" href="/assets/js/89.935520ef.js"><link rel="prefetch" href="/assets/js/9.4f724aba.js"><link rel="prefetch" href="/assets/js/90.d75c1876.js"><link rel="prefetch" href="/assets/js/91.1bab6961.js"><link rel="prefetch" href="/assets/js/92.2e4bd9a2.js"><link rel="prefetch" href="/assets/js/93.3aed17d2.js"><link rel="prefetch" href="/assets/js/94.f1312ba3.js"><link rel="prefetch" href="/assets/js/95.e1ddf5b9.js"><link rel="prefetch" href="/assets/js/96.d4567d03.js"><link rel="prefetch" href="/assets/js/97.4ff13e92.js"><link rel="prefetch" href="/assets/js/98.fb5affc0.js"><link rel="prefetch" href="/assets/js/99.d6814599.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4576dbc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">匠心博客</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/index.html" class="nav-link">博文</a></div><div class="nav-item"><a href="/book/index.html" class="nav-link">专栏</a></div><div class="nav-item"><a href="/note/index.html" class="nav-link">笔记</a></div><div class="nav-item"><a href="/nav/index.html" class="nav-link">导航</a></div><div class="nav-item"><a href="/about/index.html" class="nav-link">关于</a></div> <a href="https://github.com/zhaomenghuan" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/index.html" class="nav-link">博文</a></div><div class="nav-item"><a href="/book/index.html" class="nav-link">专栏</a></div><div class="nav-item"><a href="/note/index.html" class="nav-link">笔记</a></div><div class="nav-item"><a href="/nav/index.html" class="nav-link">导航</a></div><div class="nav-item"><a href="/about/index.html" class="nav-link">关于</a></div> <a href="https://github.com/zhaomenghuan" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>NodeMCU ESP8266 GPIO 和 PWM 学习</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/blog/nodemcu-esp8266-gpio-pwm.html#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/nodemcu-esp8266-gpio-pwm.html#esp8266-与-nodemcu-管脚" class="sidebar-link">ESP8266 与 NodeMCU 管脚</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/nodemcu-esp8266-gpio-pwm.html#esp8266-管脚定义" class="sidebar-link">ESP8266 管脚定义</a></li><li class="sidebar-sub-header"><a href="/blog/nodemcu-esp8266-gpio-pwm.html#nodemcu-管脚映射图" class="sidebar-link">NodeMCU 管脚映射图</a></li></ul></li><li><a href="/blog/nodemcu-esp8266-gpio-pwm.html#点亮-nodemcu-开发板上的-led" class="sidebar-link">点亮 NodeMCU 开发板上的 LED</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/nodemcu-esp8266-gpio-pwm.html#gpio2-引脚电路图" class="sidebar-link">GPIO2 引脚电路图</a></li><li class="sidebar-sub-header"><a href="/blog/nodemcu-esp8266-gpio-pwm.html#配置-gpio2-引脚" class="sidebar-link">配置 GPIO2 引脚</a></li><li class="sidebar-sub-header"><a href="/blog/nodemcu-esp8266-gpio-pwm.html#gpio2-led-灯闪烁实例" class="sidebar-link">GPIO2 LED 灯闪烁实例</a></li></ul></li><li><a href="/blog/nodemcu-esp8266-gpio-pwm.html#制作-rgb-三色-led-呼吸灯" class="sidebar-link">制作 RGB 三色 LED 呼吸灯</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/nodemcu-esp8266-gpio-pwm.html#pwm-实现呼吸灯" class="sidebar-link">PWM 实现呼吸灯</a></li><li class="sidebar-sub-header"><a href="/blog/nodemcu-esp8266-gpio-pwm.html#电路连接图" class="sidebar-link">电路连接图</a></li><li class="sidebar-sub-header"><a href="/blog/nodemcu-esp8266-gpio-pwm.html#呼吸灯代码实现" class="sidebar-link">呼吸灯代码实现</a></li></ul></li><li><a href="/blog/nodemcu-esp8266-gpio-pwm.html#参考" class="sidebar-link">参考</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="nodemcu-esp8266-gpio-和-pwm-学习">NodeMCU ESP8266 GPIO 和 PWM 学习</h1> <h2 id="前言">前言</h2> <p>入门任何一款 MCU，GPIO 是必须掌握的基础知识，虽然每款 MCU GPIO 的数量和能力各不一样，但是使用用法是基本一样的。本文将通过两个小实验去理解 GPIO 中的核心知识，通过 ESP8266 了解一下 GPIO 中的基本概念，从而更好的掌握 ESP8266 其他的功能。通用输入/输出 (GPIO) 是集成电路上的一个引脚功能，它既可以是输入引脚，也可以是输出引脚，这些功能均可以在编写程序时进行控制。</p> <h2 id="esp8266-与-nodemcu-管脚">ESP8266 与 NodeMCU 管脚</h2> <h3 id="esp8266-管脚定义">ESP8266 管脚定义</h3> <p>ESP8266 共有16个通用 IO，管脚的位置和管脚的分别为：</p> <p><img src="/assets/img/esp8266-pin.f742972d.png" alt></p> <table><thead><tr><th style="text-align:center"><strong>管脚</strong></th> <th style="text-align:left"><strong>名称</strong></th> <th><strong>类型</strong></th> <th><strong>功能</strong></th></tr></thead> <tbody><tr><td style="text-align:center">1</td> <td style="text-align:left">VDDA</td> <td>P</td> <td>模拟电源 3.0V ~ 3.6V</td></tr> <tr><td style="text-align:center">2</td> <td style="text-align:left">LNA</td> <td>I/O</td> <td>射频天线接口，芯片输出阻抗为 50Ω。无需对芯片进行匹配，但建议保留π型匹配网络对天线进行匹配。</td></tr> <tr><td style="text-align:center">3</td> <td style="text-align:left">VDD3P3</td> <td>P</td> <td>功放电源 3.0V ~ 3.6V</td></tr> <tr><td style="text-align:center">4</td> <td style="text-align:left">VDD3P3</td> <td>P</td> <td>功放电源 3.0V ~ 3.6V</td></tr> <tr><td style="text-align:center">5</td> <td style="text-align:left">VDD_RTC</td> <td>P</td> <td>NC(1.1V)</td></tr> <tr><td style="text-align:center">6</td> <td style="text-align:left">TOUT</td> <td>I</td> <td>ADC端(芯片内部ADC端口)，可用于检测VDD3P3(Pin3、Pin4)电源电压和TOUT(Pin6)的输入电压。(二者不可同时使用)</td></tr> <tr><td style="text-align:center">7</td> <td style="text-align:left">CHIP_PU</td> <td>I</td> <td>芯片使能端。高电平：有效，芯片正常工作；低电平：芯片关闭，电流很小</td></tr> <tr><td style="text-align:center">8</td> <td style="text-align:left">XPD_DCDC</td> <td>I/O</td> <td>深度睡眠唤醒；GPIO16</td></tr> <tr><td style="text-align:center">9</td> <td style="text-align:left">MTMS</td> <td>I/O</td> <td>GPOIO14；HSPI_CLK</td></tr> <tr><td style="text-align:center">10</td> <td style="text-align:left">MTDI</td> <td>I/O</td> <td>GPIO12；HSPI_MISO</td></tr> <tr><td style="text-align:center">11</td> <td style="text-align:left">VDDPST</td> <td>P</td> <td>数字／IO电源(1.8V ~ 3.3V)</td></tr> <tr><td style="text-align:center">12</td> <td style="text-align:left">MTCK</td> <td>I/O</td> <td>GPIO13；HSPI_MOSI；UART0_CTS</td></tr> <tr><td style="text-align:center">13</td> <td style="text-align:left">MTDO</td> <td>I/O</td> <td>GPIO15；HSPI_CS；UART0_RTS</td></tr> <tr><td style="text-align:center">14</td> <td style="text-align:left">GPIO2</td> <td>I/O</td> <td>可用作烧写Flash时UART1_TX；GPIO2</td></tr> <tr><td style="text-align:center">15</td> <td style="text-align:left">GPIO0</td> <td>I/O</td> <td>GPIO0；SPI_CS2</td></tr> <tr><td style="text-align:center">16</td> <td style="text-align:left">GPIO4</td> <td>I/O</td> <td>GPIO4</td></tr> <tr><td style="text-align:center">17</td> <td style="text-align:left">VDDPST</td> <td>P</td> <td>数字／IO电源(1.8V ~ 3.3V)</td></tr> <tr><td style="text-align:center">18</td> <td style="text-align:left">SDIO_DATA_2</td> <td>I/O</td> <td>连接到SD_D2(串联200Ω)；PIHD；HSPIHD；GPIO9</td></tr> <tr><td style="text-align:center">19</td> <td style="text-align:left">SDIO_DATA_3</td> <td>I/O</td> <td>连接到SD_D3(串联200Ω)；SPIWP；HSPIWP；GPIO10</td></tr> <tr><td style="text-align:center">20</td> <td style="text-align:left">SDIO_CMD</td> <td>I/O</td> <td>连接到SD_CMD(串联200Ω)；SPI_CS0；GPIO11</td></tr> <tr><td style="text-align:center">21</td> <td style="text-align:left">SDIO_CLK</td> <td>I/O</td> <td>连接到SD_CLK(串联200Ω)；SPI_CKL；GPIO6</td></tr> <tr><td style="text-align:center">22</td> <td style="text-align:left">SDIO_DATA_0</td> <td>I/O</td> <td>连接到SD_D0(串联200Ω)；SPI_MSIO；GPIO7</td></tr> <tr><td style="text-align:center">23</td> <td style="text-align:left">SDIO_DATA_1</td> <td>I/O</td> <td>连接到SD_D1(串联200Ω)；SPI_MOSI；GPIO8</td></tr> <tr><td style="text-align:center">24</td> <td style="text-align:left">GPIO5</td> <td>I/O</td> <td>GPIO5</td></tr> <tr><td style="text-align:center">25</td> <td style="text-align:left">U0RXD</td> <td>I/O</td> <td>可用作烧写Flash时UART Rx；GPIO3</td></tr> <tr><td style="text-align:center">26</td> <td style="text-align:left">U0TXD</td> <td>I/O</td> <td>可用作烧写Flash时UART Tx；GPIO1；SPI_CS1</td></tr> <tr><td style="text-align:center">27</td> <td style="text-align:left">XTAL_OUT</td> <td>I/O</td> <td>连接晶振输出端，也可以用于提供BT的时钟输入</td></tr> <tr><td style="text-align:center">28</td> <td style="text-align:left">XTAL_IN</td> <td>I/O</td> <td>连接晶振输入端</td></tr> <tr><td style="text-align:center">29</td> <td style="text-align:left">VDDD</td> <td>P</td> <td>模拟电源 3.0V ~ 3.6V</td></tr> <tr><td style="text-align:center">30</td> <td style="text-align:left">VDDA</td> <td>P</td> <td>模拟电源 3.0V ~ 3.6V</td></tr> <tr><td style="text-align:center">31</td> <td style="text-align:left">RES12K</td> <td>I</td> <td>串联12kΩ电阻到地</td></tr> <tr><td style="text-align:center">32</td> <td style="text-align:left">EXT_RSTB</td> <td>I</td> <td>外部重置信号(低电平有效)</td></tr></tbody></table> <p>其中，在四线 (QUAD) 模式 flash 下，有六个 IO 于 flash 通讯；在两线 (DUAL) 模式 flash 下，有四个 IO 于与 flash 通讯。</p> <h3 id="nodemcu-管脚映射图">NodeMCU 管脚映射图</h3> <p><img src="/assets/img/nodemcu-pin.73c3df44.png" alt></p> <p>| <strong>Label</strong> | <strong>GPIO</strong> | <strong>Input</strong> | <strong>Output</strong> | <strong>Notes</strong> |</p> <table><thead><tr><th><strong>D0</strong></th> <th><strong>GPIO16</strong></th> <th>no interrupt</th> <th>no PWM or I2C support</th> <th>HIGH at boot used to wake up from deep sleep</th></tr></thead> <tbody><tr><td><strong>D1</strong></td> <td><strong>GPIO5</strong></td> <td>OK</td> <td>OK</td> <td>often used as SCL (I2C)</td></tr> <tr><td><strong>D2</strong></td> <td><strong>GPIO4</strong></td> <td>OK</td> <td>OK</td> <td>often used as SDA (I2C)</td></tr> <tr><td><strong>D3</strong></td> <td><strong>GPIO0</strong></td> <td>pulled up</td> <td>OK</td> <td>connected to FLASH button, boot fails if pulled LOW</td></tr> <tr><td><strong>D4</strong></td> <td><strong>GPIO2</strong></td> <td>pulled up</td> <td>OK</td> <td>HIGH at boot connected to on-board LED, boot fails if pulled LOW</td></tr> <tr><td><strong>D5</strong></td> <td><strong>GPIO14</strong></td> <td>OK</td> <td>OK</td> <td>SPI (SCLK)</td></tr> <tr><td><strong>D6</strong></td> <td><strong>GPIO12</strong></td> <td>OK</td> <td>OK</td> <td>SPI (MISO)</td></tr> <tr><td><strong>D7</strong></td> <td><strong>GPIO13</strong></td> <td>OK</td> <td>OK</td> <td>SPI (MOSI)</td></tr> <tr><td><strong>D8</strong></td> <td><strong>GPIO15</strong></td> <td>pulled to GND</td> <td>OK</td> <td>SPI (CS) Boot fails if pulled HIGH</td></tr> <tr><td><strong>RX</strong></td> <td><strong>GPIO3</strong></td> <td>OK</td> <td>RX pin</td> <td>HIGH at boot</td></tr> <tr><td><strong>TX</strong></td> <td><strong>GPIO1</strong></td> <td>TX pin</td> <td>OK</td> <td>HIGH at boot debug output at boot, boot fails if pulled LOW</td></tr> <tr><td><strong>A0</strong></td> <td><strong>ADC0</strong></td> <td>Analog Input</td> <td>X</td> <td></td></tr></tbody></table> <p>NodeMCU 开发板引脚的编号与 NodeMCU 的内部 GPIO 编号不是一个编号，例如板上的 D4 对应的是  ESP8266 的 GPIO 引脚 2，可以通过 GPIO_Pin_2 变量引用。
根据 ESP8266 的系统 (SoC) 设计，其内部包含了处理器芯片等组件，处理器大约有 16 条 GPIO 线路，其中一些 GPIO 规定默认用于与其他内部组件进行通信，比如与内部闪存的通信，GPIO6 至 GPIO11 通常连接到 ESP8266 板上的 Flash 芯片，不建议使用这些引脚，这样我们大约还有 11 个GPIO引脚可按常规 GPIO 进行使用，在这 11 个针脚中，又有 2 个针脚预留给串口 RX 和 TX。因此最后只剩下 9 个通用 I/O 引脚，即 D0 到 D8。</p> <p><img src="/assets/img/nodemcu-pin2.462e0489.png" alt></p> <p>在实际使用中，从上图我们可以看到一些 GPIO 引脚同时兼备了其他功能，如 RX, TX, SD2, SD3，这些引脚大多不作为 GPIO 使用，因为它们可用于其他进程。极端情况下，可使用 SD3 (D12) 引脚，D12 引脚主要用于响应 GPIO/PWM/中断等功能。需要注意的是，D0|GPIO16 引脚只能作为 GPIO 读/写使用，不支持任何特殊功能。</p> <h2 id="点亮-nodemcu-开发板上的-led">点亮 NodeMCU 开发板上的 LED</h2> <h3 id="gpio2-引脚电路图">GPIO2 引脚电路图</h3> <p>点亮开发板上的 LED 灯是嵌入式编程开发中的 “Hello, World”。
NodeMCU ESP8266 开发板有两个 LED 灯，一个 LED 位于 ESP-12 模组的 PCB 上；一个 LED 位于 NodeMCU 的 PCB 上。</p> <p><img src="/assets/img/nodemcu-led.550febfe.png" alt></p> <p>ESP-12 模组板载 LED 引脚对应 GPIO2/TXD1，电路图如下：</p> <p><img src="/assets/img/esp-12-gpio2.f3cad430.png" alt></p> <p>NodeMCU 板载 LED 引脚对应 GPIO16，电路图如下：</p> <p><img src="/assets/img/nodemcu-gpio16.29cefa45.png" alt></p> <p>两个 LED 都在反向模式下工作，关于引脚电平-当引脚高时，LED是关闭的；当引脚低时，LED是亮的。GPIO 0-15 引脚都配有内置上拉电阻，可以通过 GPIO 配置使能上拉。</p> <h3 id="配置-gpio2-引脚">配置 GPIO2 引脚</h3> <p>GPIO 的初始化通过一个结构体来配置，如下：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    uint16           GPIO_Pin<span class="token punctuation">;</span>      <span class="token comment">/**&lt; GPIO pin：配置某一号管脚 */</span>
    GPIOMode_TypeDef GPIO_Mode<span class="token punctuation">;</span>     <span class="token comment">/**&lt; GPIO mode：设置输入输出模式 */</span>
    GPIO_Pullup_IF   GPIO_Pullup<span class="token punctuation">;</span>   <span class="token comment">/**&lt; GPIO pullup：使能上拉 */</span>
    GPIO_INT_TYPE    GPIO_IntrType<span class="token punctuation">;</span> <span class="token comment">/**&lt; GPIO interrupt type：是否使能中断，并配置中断模式 */</span>
<span class="token punctuation">}</span> GPIO_ConfigTypeDef<span class="token punctuation">;</span>
</code></pre></div><p>中断模式配置结构体：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">enum</span> <span class="token punctuation">{</span>
    GPIO_PIN_INTR_DISABLE <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>      <span class="token comment">/**&lt; disable GPIO interrupt 失能中断 */</span>
    GPIO_PIN_INTR_POSEDGE <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>      <span class="token comment">/**&lt; GPIO interrupt type : rising edge 上升沿触发 */</span>
    GPIO_PIN_INTR_NEGEDGE <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>      <span class="token comment">/**&lt; GPIO interrupt type : falling edge 下降沿触发 */</span>
    GPIO_PIN_INTR_ANYEDGE <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>      <span class="token comment">/**&lt; GPIO interrupt type : bothe rising and falling edge 双边沿触发 */</span>
    GPIO_PIN_INTR_LOLEVEL <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>      <span class="token comment">/**&lt; GPIO interrupt type : low level 输入低电平触发 */</span>
    GPIO_PIN_INTR_HILEVEL <span class="token operator">=</span> <span class="token number">5</span>       <span class="token comment">/**&lt; GPIO interrupt type : high level 输入高电平触发 */</span>
<span class="token punctuation">}</span> GPIO_INT_TYPE<span class="token punctuation">;</span>
</code></pre></div><p>输入输出模式配置结构体：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">enum</span> <span class="token punctuation">{</span>
    GPIO_Mode_Input <span class="token operator">=</span> <span class="token number">0x0</span><span class="token punctuation">,</span>          <span class="token comment">/**&lt; GPIO mode : Input */</span>
    GPIO_Mode_Out_OD<span class="token punctuation">,</span>               <span class="token comment">/**&lt; GPIO mode : Output_OD */</span>
    GPIO_Mode_Output <span class="token punctuation">,</span>              <span class="token comment">/**&lt; GPIO mode : Output */</span>
    GPIO_Mode_Sigma_Delta <span class="token punctuation">,</span>         <span class="token comment">/**&lt; GPIO mode : Sigma_Delta */</span>
<span class="token punctuation">}</span> GPIOMode_TypeDef<span class="token punctuation">;</span>
</code></pre></div><p>下面我们以控制 GPIO2 连接的 LED 灯为例加以说明。设置 GPIO2 为不开启中端，输出端口并使能上拉：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;gpio.h&quot;</span></span>

<span class="token keyword">void</span> <span class="token function">led_init</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    GPIO_ConfigTypeDef gpio_in_cfg<span class="token punctuation">;</span>                       <span class="token comment">// 定义 GPIO 初始化结构体</span>
    gpio_in_cfg<span class="token punctuation">.</span>GPIO_IntrType <span class="token operator">=</span> GPIO_PIN_INTR_DISABLE<span class="token punctuation">;</span>    <span class="token comment">// 是否使能中断，并配置中断模式</span>
    gpio_in_cfg<span class="token punctuation">.</span>GPIO_Mode <span class="token operator">=</span> GPIO_Mode_Output<span class="token punctuation">;</span>             <span class="token comment">// 设置 GPIO2 口为输出端口</span>
    gpio_in_cfg<span class="token punctuation">.</span>GPIO_Pullup <span class="token operator">=</span> GPIO_PullUp_EN<span class="token punctuation">;</span>             <span class="token comment">// 设置 GPIO2 口上拉有效</span>
    gpio_in_cfg<span class="token punctuation">.</span>GPIO_Pin <span class="token operator">=</span> GPIO_Pin_2<span class="token punctuation">;</span>                    <span class="token comment">// 使能 GPIO2 口</span>
    <span class="token function">gpio_config</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>gpio_in_cfg<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// GPIO 初始化</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">user_init</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">led_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="gpio2-led-灯闪烁实例">GPIO2 LED 灯闪烁实例</h3> <video src="https://www.yuque.com/attachments/yuque/0/2020/mp4/696445/1607852540237-a40dfabe-db44-4358-92fc-6c783facd43b.mp4?_lake_card=%7B%22uid%22%3A%221607852544188-0%22%2C%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2020%2Fmp4%2F696445%2F1607852540237-a40dfabe-db44-4358-92fc-6c783facd43b.mp4%22%2C%22name%22%3A%221607851695610384.mp4%22%2C%22size%22%3A572337%2C%22type%22%3A%22video%2Fmp4%22%2C%22ext%22%3A%22mp4%22%2C%22progress%22%3A%7B%22percent%22%3A99%7D%2C%22status%22%3A%22done%22%2C%22percent%22%3A0%2C%22id%22%3A%22eEwMS%22%2C%22card%22%3A%22file%22%7D" controls="controls">
your browser does not support the video tag
</video> <p>如果我们想实现 LED 闪烁的效果，我们可以定义一个任务来实现：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">/**
 * 创建一个任务，参数分别为：
 * - pvTaskCode：任务函数
 * - pcName: 任务名称
 * - usStackDepth: 任务堆栈
 * - pvParameters: 任务函数的参数
 * - uxPriority: 任务优先级
 * - pvCreatedTask: 任务句柄
 */</span>
<span class="token function">xTaskCreate</span><span class="token punctuation">(</span>led_toggle_task<span class="token punctuation">,</span> <span class="token string">&quot;led_toggle_task&quot;</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>任务函数实现：</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">led_init</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    GPIO_ConfigTypeDef gpio_in_cfg<span class="token punctuation">;</span>                       <span class="token comment">// 定义 GPIO 初始化结构体</span>
    gpio_in_cfg<span class="token punctuation">.</span>GPIO_IntrType <span class="token operator">=</span> GPIO_PIN_INTR_DISABLE<span class="token punctuation">;</span>    <span class="token comment">// 是否使能中断，并配置中断模式</span>
    gpio_in_cfg<span class="token punctuation">.</span>GPIO_Mode <span class="token operator">=</span> GPIO_Mode_Output<span class="token punctuation">;</span>             <span class="token comment">// 设置 GPIO 口为输出端口 /</span>
    gpio_in_cfg<span class="token punctuation">.</span>GPIO_Pullup <span class="token operator">=</span> GPIO_PullUp_EN<span class="token punctuation">;</span>             <span class="token comment">// 设置 GPIO 口上拉有效</span>
    gpio_in_cfg<span class="token punctuation">.</span>GPIO_Pin <span class="token operator">=</span> GPIO_Pin_2<span class="token punctuation">;</span>                    <span class="token comment">// 使能 GPIO IO 口</span>
    <span class="token function">gpio_config</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>gpio_in_cfg<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// GPIO 初始化</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">led_toggle</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 获取 GPIO2 管脚的电平状态</span>
    uint32_t bit <span class="token operator">=</span> <span class="token function">GPIO_INPUT_GET</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置 GPIO2 管脚输出电平</span>
    <span class="token function">GPIO_OUTPUT</span><span class="token punctuation">(</span>GPIO_Pin_2<span class="token punctuation">,</span> bit<span class="token operator">^</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;led toggle \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">led_toggle_task</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>pvParameters<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">led_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token punctuation">;</span><span class="token punctuation">;</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">led_toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 延时 500 ms</span>
        <span class="token function">vTaskDelay</span><span class="token punctuation">(</span><span class="token number">500</span> <span class="token operator">/</span> portTICK_RATE_MS<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">vTaskDelete</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="制作-rgb-三色-led-呼吸灯">制作 RGB 三色 LED 呼吸灯</h2> <h3 id="pwm-实现呼吸灯">PWM 实现呼吸灯</h3> <p><strong>什么是呼吸灯？</strong></p> <p>呼吸灯最早是由苹果公司发明并应用于笔记本睡眠提示上，一经展出，立刻吸引众多科技厂商争相效仿。呼吸灯是指灯在微控器控制之下完成由暗到亮的逐渐变化，再由亮到暗的逐渐变化，亮暗的节奏感觉像是人在呼吸。
用微控器做呼吸灯是利用频率来控制呼吸灯的呼吸时间，用占空比来控制灯的亮度。也就是采用 PWM 的方式，在固定的频率下，采用占空比的方式来实现 LED 亮度的变化。占空比为 0，LED 灯不亮，占空比为 100%，则 LED 灯最亮。所以将占空比从 0 到 100%，再从 100% 到 0 不断变化，就可以实现 LED 灯实现特效呼吸。</p> <p><strong>什么是 PWM 控制信号？</strong></p> <p>PWM（pulse-width modulation）脉冲宽度调制，MCU（微控制器）通过对开关器件的通断进行控制，使输出端得到一系列幅值相等的脉冲，用这些脉冲来代替正弦波或所需的波形。当我们需要连续控制电压变化，实现呼吸灯或者电机转速的时候，就要用到PWM，如下图所示。</p> <p><img src="/assets/img/pwm.d65155dd.gif" alt></p> <h3 id="电路连接图">电路连接图</h3> <p>NodeMCU 套件上的 PWM 引脚如下图所示：</p> <p><img src="/assets/img/nodemcu_pwm_pins.63068462.png" alt></p> <p>下面我们用 NodeMCU D5 (GPIO14)、D6 (GPIO12)、D7 (GPIO13) 这三个支持 PWM 功能的引脚去控制 RGB 三色 LED 灯。电路连接图如下：</p> <p><img src="/assets/img/nodemcu-rgb.7cb7c6d4.png" alt></p> <p>我们按照电路图接好电路会发现 RGB 三色灯均发亮了，这是因为 GPIO12、GPIO13、GPIO14 UBOOT电平默认是高电平。</p> <h3 id="呼吸灯代码实现">呼吸灯代码实现</h3> <p>PWM 驱动接⼝函数不能跟 hw_timer.c 的接⼝同时使⽤，因为它们共⽤了同⼀个硬件定时器。</p> <p><img src="/assets/img/pwm_init.2f95ec15.png" alt></p> <p><img src="/assets/img/pwm_start.1621dbbf.png" alt></p> <p><img src="/assets/img/pwm_set_duty.b4c029ed.png" alt></p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property">#<span class="token directive keyword">define</span> PWM_0_OUT_IO_MUX PERIPHS_IO_MUX_MTDI_U</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PWM_0_OUT_IO_NUM 12</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PWM_0_OUT_IO_FUNC FUNC_GPIO12</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PWM_1_OUT_IO_MUX PERIPHS_IO_MUX_MTCK_U</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PWM_1_OUT_IO_NUM 13</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PWM_1_OUT_IO_FUNC FUNC_GPIO13</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PWM_2_OUT_IO_MUX PERIPHS_IO_MUX_MTMS_U</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PWM_2_OUT_IO_NUM 14</span>
<span class="token macro property">#<span class="token directive keyword">define</span> PWM_2_OUT_IO_FUNC FUNC_GPIO14</span>

LOCAL os_timer_t rgb_light_timer<span class="token punctuation">;</span>
<span class="token comment">/** PWM占空比变量 */</span>
LOCAL u8 set_duty <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">/** PWM占空比加减标志 */</span>
LOCAL bool flag <span class="token operator">=</span> true<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">ESP8266_PWM_RUN</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">++</span>set_duty <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            flag <span class="token operator">=</span> false<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>set_duty <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            flag <span class="token operator">=</span> true<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/** 更新 PWM 通道的占空比 */</span>
    <span class="token function">pwm_set_duty</span><span class="token punctuation">(</span>set_duty<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">pwm_set_duty</span><span class="token punctuation">(</span>set_duty<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">pwm_set_duty</span><span class="token punctuation">(</span>set_duty<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">pwm_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">rgb_light_pwm_init</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    uint32 period <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    uint32 duty<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    uint32 io_info<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span>PWM_0_OUT_IO_MUX<span class="token punctuation">,</span> PWM_0_OUT_IO_FUNC<span class="token punctuation">,</span> PWM_0_OUT_IO_NUM<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// GPIO12</span>
        <span class="token punctuation">{</span>PWM_1_OUT_IO_MUX<span class="token punctuation">,</span> PWM_1_OUT_IO_FUNC<span class="token punctuation">,</span> PWM_1_OUT_IO_NUM<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// GPIO13</span>
        <span class="token punctuation">{</span>PWM_2_OUT_IO_MUX<span class="token punctuation">,</span> PWM_2_OUT_IO_FUNC<span class="token punctuation">,</span> PWM_2_OUT_IO_NUM<span class="token punctuation">}</span>  <span class="token comment">// GPIO14</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// 配置 PWM 的周期为 1000us，占空比为 0，PWM 通道数量为 3</span>
    <span class="token function">pwm_init</span><span class="token punctuation">(</span>period<span class="token punctuation">,</span> duty<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> io_info<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">os_timer_disarm</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rgb_light_timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">os_timer_setfn</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rgb_light_timer<span class="token punctuation">,</span> <span class="token punctuation">(</span>os_timer_func_t <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>ESP8266_PWM_RUN<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">os_timer_arm</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rgb_light_timer<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> true<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>实现效果如下：</p> <video src="https://www.yuque.com/attachments/yuque/0/2020/mp4/696445/1607877529215-867d2702-fb06-464f-99f3-dfb8f7428866.mp4?_lake_card=%7B%22uid%22%3A%221607877532440-0%22%2C%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2020%2Fmp4%2F696445%2F1607877529215-867d2702-fb06-464f-99f3-dfb8f7428866.mp4%22%2C%22name%22%3A%221607877484146039.mp4%22%2C%22size%22%3A963402%2C%22type%22%3A%22video%2Fmp4%22%2C%22ext%22%3A%22mp4%22%2C%22progress%22%3A%7B%22percent%22%3A99%7D%2C%22status%22%3A%22done%22%2C%22percent%22%3A0%2C%22id%22%3A%22qxLXy%22%2C%22card%22%3A%22file%22%7D" controls="controls">
your browser does not support the video tag
</video> <h2 id="参考">参考</h2> <ul><li><a href="https://blog.csdn.net/qq_41714908/article/details/105223260" target="_blank" rel="noopener noreferrer">ESP8266学习历程——GPIO配置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://lowvoltage.github.io/2017/07/09/Onboard-LEDs-NodeMCU-Got-Two" target="_blank" rel="noopener noreferrer">Onboard LEDs? NodeMCU's got two!<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://blog.gqylpy.com/gqy/20228/" target="_blank" rel="noopener noreferrer">ESP8266开发之旅 基础篇③ ESP8266与Arduino的开发说明<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://zhuanlan.zhihu.com/p/56616166" target="_blank" rel="noopener noreferrer">如何在ESP8266上实现变色呼吸灯效果？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div data-v-3bd334e8><p class="descript" data-v-3bd334e8>写这些代码也许就一两个小时的事，写一篇大家好接受的文章需要几天的酝酿，如果文章对您有帮助请我喝杯咖啡吧！</p> <img src="/supportme.png" class="pay-code" data-v-3bd334e8> <div data-v-3bd334e8><div id="container"></div></div> <div class="footer" data-v-c6ca53a6 data-v-3bd334e8><p data-v-c6ca53a6>站点总访问量： 站点总访客数：</p> <p data-v-c6ca53a6>博客内容遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" data-v-c6ca53a6>知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></p> <p data-v-c6ca53a6>赵梦欢 © 2015 - 2020</p></div></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.4d6b7a5c.js" defer></script><script src="/assets/js/8.86b21130.js" defer></script><script src="/assets/js/18.b4f6139e.js" defer></script><script src="/assets/js/34.3f96b3d4.js" defer></script>
  </body>
</html>
